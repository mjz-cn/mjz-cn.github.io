<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>特征平台（一） - MJZ</title><meta description="背景实时特征对运营活动是必不可少的，特征的质量也会对业务产生直接的影响。但是由于当前没有一个统一的实时特征接入和生产平台，导致特征的产出过程过于混乱，实时特征的质量也是不可控的。当前现象及主要问题有："><meta property="og:type" content="blog"><meta property="og:title" content="特征平台（一）"><meta property="og:url" content="http://yoursite.com/2020/03/08/%E7%89%B9%E5%BE%81%E5%B9%B3%E5%8F%B0%EF%BC%88%E4%B8%80%EF%BC%89/"><meta property="og:site_name" content="MJZ"><meta property="og:description" content="背景实时特征对运营活动是必不可少的，特征的质量也会对业务产生直接的影响。但是由于当前没有一个统一的实时特征接入和生产平台，导致特征的产出过程过于混乱，实时特征的质量也是不可控的。当前现象及主要问题有："><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://yoursite.com/assets/img/tag1.jpg"><meta property="og:image" content="http://yoursite.com/assets/img/tag2.jpg"><meta property="og:image" content="http://yoursite.com/assets/img/tag3.jpg"><meta property="og:image" content="http://yoursite.com/assets/img/tag4.jpg"><meta property="og:image" content="http://yoursite.com/assets/img/tag5.jpg"><meta property="og:image" content="http://yoursite.com/assets/img/tag6.jpg"><meta property="og:image" content="http://yoursite.com/assets/img/tag8.jpg"><meta property="og:image" content="http://yoursite.com/assets/img/tag9.jpg"><meta property="og:image" content="http://yoursite.com/assets/img/tag7.jpg"><meta property="article:published_time" content="2020-03-08T04:55:00.000Z"><meta property="article:modified_time" content="2020-08-23T08:18:49.508Z"><meta property="article:author" content="文哲思"><meta property="article:tag" content="特征平台"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/assets/img/tag1.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://yoursite.com/2020/03/08/%E7%89%B9%E5%BE%81%E5%B9%B3%E5%8F%B0%EF%BC%88%E4%B8%80%EF%BC%89/"},"headline":"MJZ","image":["http://yoursite.com/assets/img/tag1.jpg","http://yoursite.com/assets/img/tag2.jpg","http://yoursite.com/assets/img/tag3.jpg","http://yoursite.com/assets/img/tag4.jpg","http://yoursite.com/assets/img/tag5.jpg","http://yoursite.com/assets/img/tag6.jpg","http://yoursite.com/assets/img/tag8.jpg","http://yoursite.com/assets/img/tag9.jpg","http://yoursite.com/assets/img/tag7.jpg"],"datePublished":"2020-03-08T04:55:00.000Z","dateModified":"2020-08-23T08:18:49.508Z","author":{"@type":"Person","name":"文哲思"},"description":"背景实时特征对运营活动是必不可少的，特征的质量也会对业务产生直接的影响。但是由于当前没有一个统一的实时特征接入和生产平台，导致特征的产出过程过于混乱，实时特征的质量也是不可控的。当前现象及主要问题有："}</script><link rel="canonical" href="http://yoursite.com/2020/03/08/%E7%89%B9%E5%BE%81%E5%B9%B3%E5%8F%B0%EF%BC%88%E4%B8%80%EF%BC%89/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">MJZ</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/2019/12/11/%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/">参考资料</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><div class="level-item has-text-grey" datetime="{date_xml(page.date)}">发布于：2020-03-08</div><span class="level-item"> 文哲思 </span><span class="level-item"><a class="link-muted" href="/categories/%E5%B7%A5%E7%A8%8B%E6%8A%80%E6%9C%AF/">工程技术</a><span> / </span><a class="link-muted" href="/categories/%E5%B7%A5%E7%A8%8B%E6%8A%80%E6%9C%AF/%E6%9E%B6%E6%9E%84/">架构</a></span><span class="level-item">21 分钟 读完 (大约 3182 个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">特征平台（一）</h1><div class="content"><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>实时特征对运营活动是必不可少的，特征的质量也会对业务产生直接的影响。但是由于当前没有一个统一的实时特征接入和生产平台，导致特征的产出过程过于混乱，实时特征的质量也是不可控的。当前现象及主要问题有：</p>
<a id="more"></a>

<ol>
<li>存在很多不同人开发的生产实时特征的工程，而且未来还会有更多。沟通、开发成本高；</li>
<li>很多特征的信息只存在于相应的工程代码中。没有被管理起来，信息缺失，难以追查特征逻辑并且其它项目很难复用；</li>
<li>没有质量监控。不能及时发现异常；计算逻辑问题难以排查。</li>
</ol>
<p>这些问题已经对业务的扩展造成阻碍，因此需要对系统进行一次重构来解决这些问题。</p>
<blockquote>
<p>注意：理解端到端对理解整个系统的设计非常重要，特征计算其实就是端到端的过程，将hive中的数据转存到fusion，mq中的数据转存到fusion、hive中，计算过程只是在时效上有区别，因此在设计整个系统流程的时候，不会着重区分实时计算和离线计算。</p>
</blockquote>
<h2 id="产品定位分析"><a href="#产品定位分析" class="headerlink" title="产品定位分析"></a>产品定位分析</h2><h3 id="产品架构"><a href="#产品架构" class="headerlink" title="产品架构"></a>产品架构</h3><p>当前的产品架构为：</p>
<p><img src="/assets/img/tag1.jpg" alt="前产品架构图"></p>
<p>当前的系统虽然可以满足功能需求，但是在架构上没统一组织起来。模块间的耦合性太强，且特征的元数据都没有被统一管理起来。这些问题会使上线周期长、排查异常问题艰难，产品的扩展性也不是很好。</p>
<p>根据产品的特性进行模块划分和分层，将具有相同特性的项目划分成一个大的产品，再根据每个产品的功能进行分层。在划分后，每个产品都有了明确的定位，只需要专注于自己的逻辑。重构后的产品架构为：</p>
<p><img src="/assets/img/tag2.jpg" alt="重构后的产品架构图"></p>
<p>特征是整个系统的核心数据，所有上层应用都要依赖特征来提供相应的服务，因此将所有与特征相关的功能聚合到一起成为一个系统，特征处理相关的功能尽量与其它系统在功能上解耦。</p>
<h3 id="特征管理系统"><a href="#特征管理系统" class="headerlink" title="特征管理系统"></a>特征管理系统</h3><p>因此有一个完善的特征管理系统非常重要，在开发之前，先根据特征的生命周期来分析特征管理系统应该具有的功能。</p>
<p><img src="/assets/img/tag3.jpg" alt="特征生命周期时序图"></p>
<p>从时序图中可以看出，特征的生命周期可以拆解为四个部分：</p>
<ol>
<li>接入特征</li>
<li>对特征进行加工</li>
<li>使用特征</li>
<li>特征下线</li>
</ol>
<p>实时特征和离线特征只是处理方法上有区别，但它们生命周期是一致的，所以在时序图中没有区分。</p>
<p>从特征的生命周期中可以看出特征管理系统必须能够管理特征的元信息，例如特征的接入、上下线；将特征按照某种逻辑重新加工；给上层应用访问特征提供统一的接口。</p>
<h2 id="特征管理系统-1"><a href="#特征管理系统-1" class="headerlink" title="特征管理系统"></a>特征管理系统</h2><p>根据特征的生命周期可以将特征管理系统大致划分为元数据管理、特征加工、特征服务几个模块，每个模块只负责自己的逻辑即可，它们相互解耦，也利于扩展。本节主要划分每个模块的功能边界。</p>
<p><img src="/assets/img/tag4.jpg" alt="特征管理系统架构"></p>
<blockquote>
<p>最重要的部分都用色块标示。</p>
</blockquote>
<h3 id="元数据管理"><a href="#元数据管理" class="headerlink" title="元数据管理"></a>元数据管理</h3><p>元数据管理模块是整个系统的基石，它管理着所有特征的元信息。这个模块可以划分成四个部分:</p>
<h4 id="特征需求接入"><a href="#特征需求接入" class="headerlink" title="特征需求接入"></a>特征需求接入</h4><p>负责对接用户的特征需求，录入接入特征需要的所有信息。在特征上线前的所有流程都应该在这个模块。</p>
<h4 id="特征管理"><a href="#特征管理" class="headerlink" title="特征管理"></a>特征管理</h4><p>负责特征的状态、权限管理。特征的上下线，隐藏均通过这个模块处理。当特征需求评审通过之后，生成对应的特征加工任务。</p>
<h4 id="元数据信息服务"><a href="#元数据信息服务" class="headerlink" title="元数据信息服务"></a>元数据信息服务</h4><p>为外部提供特征的信息查询</p>
<h4 id="质量监控"><a href="#质量监控" class="headerlink" title="质量监控"></a>质量监控</h4><p>用于展示特征的质量监控信息，实时特征和离线特征会有一定差别。当数据有异常信息时，及时发出报警，通知用户或者开发处理。并且有着可视化的监控指标信息，也能给客户安心的感觉。</p>
<h3 id="特征加工"><a href="#特征加工" class="headerlink" title="特征加工"></a>特征加工</h3><p>特征加工应该算是整个系统的发动机，它负责将外部数据整合为特征。实时、离线特征的加工任务提供的功能是差不多一致的，都是获取一个数据源里的数据然后加工计算成需要的数据然后再存储到另外的数据源中，因此它们对外的接口基本是一致的。但是由于数据源的存储介质和时效性的区别，它们的技术架构也会有一定的不同。</p>
<h4 id="特征计算／存储"><a href="#特征计算／存储" class="headerlink" title="特征计算／存储"></a>特征计算／存储</h4><p>特征计算其实就是端到端的过程，<strong>理解端到端对理解整个系统的设计非常重要</strong>。分为实时特征计算和离线特征计算。特征的存储介质主要有hive、codis、fusion、es，特征的用途不同，存储的介质也会不同。</p>
<h4 id="质量监控数据采集"><a href="#质量监控数据采集" class="headerlink" title="质量监控数据采集"></a>质量监控数据采集</h4><p>采集特征在计算过程中的监控指标，然后发送到元数据管理系统。</p>
<h3 id="特征服务"><a href="#特征服务" class="headerlink" title="特征服务"></a>特征服务</h3><p>提供特征服务的能力，使外部系统能接触到特征数据。</p>
<h4 id="特征选取"><a href="#特征选取" class="headerlink" title="特征选取"></a>特征选取</h4><p>上层应用在访问特征数据时，有可能需要事先选取下要访问的特征、访问方式，因为不同的存储介质、不同的应用，访问方式也不一样。</p>
<h4 id="特征查询"><a href="#特征查询" class="headerlink" title="特征查询"></a>特征查询</h4><p>使外部用户能直接查询特征，提供的服务方式可以是多样的。hive中的数据离线查询，fusion和codis通过微服务查询或者sdk方式。</p>
<h2 id="实时特征加工"><a href="#实时特征加工" class="headerlink" title="实时特征加工"></a>实时特征加工</h2><p>实时特征与离线特征的主要区别在于时效性，因此实时特征加工任务最需要考虑的特性是低延迟。Flink是一个高效的流计算平台，当前模块是基于Flink来实现的，会建立多个Flink任务来完成特征计算。Flink也是支持批处理的，后期部分离线特征任务可以考虑也使用Flink来完成。</p>
<h3 id="特征计算过程"><a href="#特征计算过程" class="headerlink" title="特征计算过程"></a>特征计算过程</h3><p>分成两个步骤：</p>
<h4 id="任务管理"><a href="#任务管理" class="headerlink" title="任务管理"></a>任务管理</h4><p><img src="/assets/img/tag5.jpg" alt="任务管理"></p>
<p>当特征新增、逻辑修改、下线时，会生成一个任务。任务管理模块会定时读取任务，来触发相应的动作。为了加工特征，可能会产生很多独立的Flink任务，任务之间相互隔离可以使任务之间不会相互影响，提高特征的稳定性。但是如果为每个特征都生成一个Flink任务，是不必要并且会浪费大量的资源，当特征的数量过多时，这种方案也是不可行的。因此需要合并部分特征任务，减少任务数量。</p>
<p>合并任务主要依据于几个因素：</p>
<ol>
<li>用户指定多个特征共享同一个任务</li>
<li>根据特征的source、sink配置判断是否能进行合并，例如：同一个topic的产出的特征并且存储介质一样，则可合并。</li>
<li>如果source的qps较低，即使source、sink配置不一致也可合并到一个Flink job中。</li>
</ol>
<p>在任务合并之前需要通知并让用户来确认。</p>
<h4 id="执行Flink任务"><a href="#执行Flink任务" class="headerlink" title="执行Flink任务"></a>执行Flink任务</h4><p><img src="/assets/img/tag6.jpg" alt="Flink任务"></p>
<p>本模块可以分为打包和计算两个过程。打包是自动根据特征的元信息在服务器上生成个jar包，并提交到公司的Flink计算平台。</p>
<p>计算过程也较为简单，Flink任务在特征消息流之外还会额外消费任务配置流，任务配置流的主要作用是通过下发与任务相关的配置，例如：计算逻辑的修改，再通过广播的形式将配置发送到整个任务中。由于任务事件较少，不会对Flink任务的计算流程产生影响，因此所有Flink任务可共享同一个任务配置流。</p>
<p>如果DB能支持幂等性操作，则数据是能达到强一致性的。不过大部分DB都不支持，因此数据最终能达到什么样的一执行是和当次任务的配置（存储介质、计算逻辑）相关的。</p>
<p>标签系统的实时特征都是以hash的数据结构存储到redis中，操作为HINCRBY和HSET，在这个场景下可以结合Flink的checkpoint来达到数据的最终一致性。</p>
<h3 id="质量数据采集"><a href="#质量数据采集" class="headerlink" title="质量数据采集"></a>质量数据采集</h3><p>实时特征的质量数据分为两部分：Flink任务在执行过程中产生的指标，实时特征准确性校验数据。</p>
<h4 id="Flink任务监控指标"><a href="#Flink任务监控指标" class="headerlink" title="Flink任务监控指标"></a>Flink任务监控指标</h4><p><img src="/assets/img/tag8.jpg" alt="特征选取"></p>
<p>通过Heartbeat可以计算每个任务中每个节点耗费的时间，系统的可用性。参考<a href="https://mp.weixin.qq.com/s/SckImze2xllLfkYr9Axq6g">文章</a>。</p>
<p>这一块再进一步，可以让用户通过配置的方式来监控某个用户在某个时间段内的所有相信，包含对应的消息、产生的特征值，用于验证和排查问题。</p>
<h4 id="准确性校验"><a href="#准确性校验" class="headerlink" title="准确性校验"></a>准确性校验</h4><p>实时特征在生产出来之后，需要进行准确性校验，可以通过与对应的离线特征进行比对来校验数据是否准确。</p>
<p>由于这块的成本较高，可以选择对重要些高的特征进行校验。</p>
<h2 id="特征服务-1"><a href="#特征服务-1" class="headerlink" title="特征服务"></a>特征服务</h2><p>这个模块主要是为了统一外界访问特征的方式，统一的访问方式也使外界可以方便的接入特征。</p>
<p>模型与特征管理平台之间的交互流程</p>
<p><img src="/assets/img/tag9.jpg" alt="模型与特征管理平台之间的交互流程"></p>
<h3 id="特征选取-1"><a href="#特征选取-1" class="headerlink" title="特征选取"></a>特征选取</h3><p><img src="/assets/img/tag7.jpg" alt="特征选取"></p>
<p>在用户能真正访问特征需要校验其是否有权限，并且特征是否能满足对应的用途，如果不满足可以提交个特征加工任务，将特征重新加工。例如模型服务在上线时需要选取相应特征，如果某个特征只存在于hive中，那就需要将这个特征录入到fusion中，这时就可以新建个离线任务来执行。</p>
<p>不同的用途对特征的访问方式也不一样，生成的配置也不一样。例如：模型服务用途生成的是一份特征配置；而通过api来访问特征生成的就是一份访问说明文档。</p>
<h3 id="特征查询-1"><a href="#特征查询-1" class="headerlink" title="特征查询"></a>特征查询</h3><p>查询方式可以有多样的，离线查询、API、SDK方式。</p>
<p>以模型服务举例，模型服务一次访问的特征过多，为了优化性能，需要通过提供的SDK和建议的方式来查询特征。其中模型服务在启动时，即可以通过访问特征管理系统来更新配置信息，也可以通过生成的配置来获取特征元信息。SDK的使用方式可以参考下醉酒模型的流程。</p>
</div><div class="article-tags size-small mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/%E7%89%B9%E5%BE%81%E5%B9%B3%E5%8F%B0/">特征平台</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2020/03/10/%E7%89%B9%E5%BE%81%E5%B9%B3%E5%8F%B0%EF%BC%88%E4%BA%8C%EF%BC%89/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">特征平台（二）</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2020/03/02/Flink%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-Watermark%E5%8E%9F%E7%90%86/"><span class="level-item">Flink源码分析-Watermark</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/gitalk/1.6.2/gitalk.css"><script src="https://cdnjs.loli.net/ajax/libs/gitalk/1.6.2/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: 'd3f9aec4248cb56248b226e42c32bc01',
            repo: 'gitcomment',
            owner: 'mjz-cn',
            clientID: '658c65c1d7c320c954dc',
            clientSecret: '6dc7a2602f2f71971609da6b699247f4d5278c05',
            admin: ["mjz-cn"],
            createIssueManually: false,
            distractionFreeMode: false,
            perPage: 20,
            pagerDirection: 'last',
            
            
            enableHotKey: true
        })
        gitalk.render('comment-container')</script></div></div></div><!--!--><div class="column column-right is-4-tablet is-4-desktop is-4-widescreen  order-3 is-sticky"><div class="card widget" id="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="is-flex" href="#背景"><span class="mr-2">1</span><span>背景</span></a></li><li><a class="is-flex" href="#产品定位分析"><span class="mr-2">2</span><span>产品定位分析</span></a><ul class="menu-list"><li><a class="is-flex" href="#产品架构"><span class="mr-2">2.1</span><span>产品架构</span></a></li><li><a class="is-flex" href="#特征管理系统"><span class="mr-2">2.2</span><span>特征管理系统</span></a></li></ul></li><li><a class="is-flex" href="#特征管理系统-1"><span class="mr-2">3</span><span>特征管理系统</span></a><ul class="menu-list"><li><a class="is-flex" href="#元数据管理"><span class="mr-2">3.1</span><span>元数据管理</span></a><ul class="menu-list"><li><a class="is-flex" href="#特征需求接入"><span class="mr-2">3.1.1</span><span>特征需求接入</span></a></li><li><a class="is-flex" href="#特征管理"><span class="mr-2">3.1.2</span><span>特征管理</span></a></li><li><a class="is-flex" href="#元数据信息服务"><span class="mr-2">3.1.3</span><span>元数据信息服务</span></a></li><li><a class="is-flex" href="#质量监控"><span class="mr-2">3.1.4</span><span>质量监控</span></a></li></ul></li><li><a class="is-flex" href="#特征加工"><span class="mr-2">3.2</span><span>特征加工</span></a><ul class="menu-list"><li><a class="is-flex" href="#特征计算／存储"><span class="mr-2">3.2.1</span><span>特征计算／存储</span></a></li><li><a class="is-flex" href="#质量监控数据采集"><span class="mr-2">3.2.2</span><span>质量监控数据采集</span></a></li></ul></li><li><a class="is-flex" href="#特征服务"><span class="mr-2">3.3</span><span>特征服务</span></a><ul class="menu-list"><li><a class="is-flex" href="#特征选取"><span class="mr-2">3.3.1</span><span>特征选取</span></a></li><li><a class="is-flex" href="#特征查询"><span class="mr-2">3.3.2</span><span>特征查询</span></a></li></ul></li></ul></li><li><a class="is-flex" href="#实时特征加工"><span class="mr-2">4</span><span>实时特征加工</span></a><ul class="menu-list"><li><a class="is-flex" href="#特征计算过程"><span class="mr-2">4.1</span><span>特征计算过程</span></a><ul class="menu-list"><li><a class="is-flex" href="#任务管理"><span class="mr-2">4.1.1</span><span>任务管理</span></a></li><li><a class="is-flex" href="#执行Flink任务"><span class="mr-2">4.1.2</span><span>执行Flink任务</span></a></li></ul></li><li><a class="is-flex" href="#质量数据采集"><span class="mr-2">4.2</span><span>质量数据采集</span></a><ul class="menu-list"><li><a class="is-flex" href="#Flink任务监控指标"><span class="mr-2">4.2.1</span><span>Flink任务监控指标</span></a></li><li><a class="is-flex" href="#准确性校验"><span class="mr-2">4.2.2</span><span>准确性校验</span></a></li></ul></li></ul></li><li><a class="is-flex" href="#特征服务-1"><span class="mr-2">5</span><span>特征服务</span></a><ul class="menu-list"><li><a class="is-flex" href="#特征选取-1"><span class="mr-2">5.1</span><span>特征选取</span></a></li><li><a class="is-flex" href="#特征查询-1"><span class="mr-2">5.2</span><span>特征查询</span></a></li></ul></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">MJZ</a><p class="size-small"><span>&copy; 2021 文哲思</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'http://yoursite.com',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>